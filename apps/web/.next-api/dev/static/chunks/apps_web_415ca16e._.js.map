{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/SmoothScroll.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport Lenis from 'lenis';\r\n\r\nexport default function SmoothScroll() {\r\n    const lenisRef = useRef<Lenis | null>(null);\r\n\r\n    useEffect(() => {\r\n        // Initialize Lenis with performance-optimized settings\r\n        const lenis = new Lenis({\r\n            duration: 1.2, // Smooth scroll duration\r\n            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // Easing function\r\n            orientation: 'vertical', // Scroll direction\r\n            gestureOrientation: 'vertical',\r\n            smoothWheel: true, // Enable smooth wheel scrolling\r\n            wheelMultiplier: 1, // Mouse wheel sensitivity\r\n            touchMultiplier: 2, // Touch sensitivity\r\n            infinite: false,\r\n            autoResize: true, // Auto-resize on window resize\r\n        });\r\n\r\n        lenisRef.current = lenis;\r\n\r\n        // Animation frame loop for smooth scrolling\r\n        function raf(time: number) {\r\n            lenis.raf(time);\r\n            requestAnimationFrame(raf);\r\n        }\r\n\r\n        requestAnimationFrame(raf);\r\n\r\n        // Cleanup\r\n        return () => {\r\n            lenis.destroy();\r\n            lenisRef.current = null;\r\n        };\r\n    }, []);\r\n\r\n    // Expose lenis instance to window for debugging (optional)\r\n    useEffect(() => {\r\n        if (lenisRef.current) {\r\n            (window as any).lenis = lenisRef.current;\r\n        }\r\n    }, []);\r\n\r\n    return null; // This component doesn't render anything\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKe,SAAS;;IACpB,MAAM,WAAW,IAAA,sSAAM,EAAe;IAEtC,IAAA,ySAAS;kCAAC;YACN,uDAAuD;YACvD,MAAM,QAAQ,IAAI,8NAAK,CAAC;gBACpB,UAAU;gBACV,MAAM;8CAAE,CAAC,IAAM,KAAK,GAAG,CAAC,GAAG,QAAQ,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK;;gBACrD,aAAa;gBACb,oBAAoB;gBACpB,aAAa;gBACb,iBAAiB;gBACjB,iBAAiB;gBACjB,UAAU;gBACV,YAAY;YAChB;YAEA,SAAS,OAAO,GAAG;YAEnB,4CAA4C;YAC5C,SAAS,IAAI,IAAY;gBACrB,MAAM,GAAG,CAAC;gBACV,sBAAsB;YAC1B;YAEA,sBAAsB;YAEtB,UAAU;YACV;0CAAO;oBACH,MAAM,OAAO;oBACb,SAAS,OAAO,GAAG;gBACvB;;QACJ;iCAAG,EAAE;IAEL,2DAA2D;IAC3D,IAAA,ySAAS;kCAAC;YACN,IAAI,SAAS,OAAO,EAAE;gBACjB,OAAe,KAAK,GAAG,SAAS,OAAO;YAC5C;QACJ;iCAAG,EAAE;IAEL,OAAO,MAAM,yCAAyC;AAC1D;GA1CwB;KAAA"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/query-client.ts"],"sourcesContent":["/**\r\n * TanStack Query Configuration\r\n * \r\n * Query client setup with defaults and query key factory.\r\n */\r\n\r\nimport { QueryClient } from '@tanstack/react-query';\r\n\r\n/**\r\n * Create Query Client with optimized defaults\r\n */\r\nexport const queryClient = new QueryClient({\r\n    defaultOptions: {\r\n        queries: {\r\n            staleTime: 5 * 60 * 1000, // 5 minutes\r\n            gcTime: 10 * 60 * 1000, // 10 minutes (cache time)\r\n            retry: 3,\r\n            retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\r\n            refetchOnWindowFocus: false,\r\n            refetchOnReconnect: 'always',\r\n        },\r\n        mutations: {\r\n            retry: 1,\r\n        },\r\n    },\r\n});\r\n\r\n/**\r\n * Query Keys Factory\r\n * Centralized, type-safe query keys following TanStack Query best practices\r\n */\r\nexport const queryKeys = {\r\n    // Auth\r\n    auth: {\r\n        all: ['auth'] as const,\r\n        me: () => [...queryKeys.auth.all, 'me'] as const,\r\n    },\r\n\r\n    // Listings\r\n    listings: {\r\n        all: ['listings'] as const,\r\n        lists: () => [...queryKeys.listings.all, 'list'] as const,\r\n        list: (filters: Record<string, unknown>) =>\r\n            [...queryKeys.listings.lists(), { filters }] as const,\r\n        details: () => [...queryKeys.listings.all, 'detail'] as const,\r\n        detail: (id: string) => [...queryKeys.listings.details(), id] as const,\r\n    },\r\n\r\n    // Orders\r\n    orders: {\r\n        all: ['orders'] as const,\r\n        lists: () => [...queryKeys.orders.all, 'list'] as const,\r\n        list: (filters: Record<string, unknown>) =>\r\n            [...queryKeys.orders.lists(), { filters }] as const,\r\n        details: () => [...queryKeys.orders.all, 'detail'] as const,\r\n        detail: (id: string) => [...queryKeys.orders.details(), id] as const,\r\n    },\r\n\r\n    // Species\r\n    species: {\r\n        all: ['species'] as const,\r\n        lists: () => [...queryKeys.species.all, 'list'] as const,\r\n        list: (filters: Record<string, unknown>) =>\r\n            [...queryKeys.species.lists(), { filters }] as const,\r\n        details: () => [...queryKeys.species.all, 'detail'] as const,\r\n        detail: (id: string) => [...queryKeys.species.details(), id] as const,\r\n    },\r\n\r\n    // Reviews\r\n    reviews: {\r\n        all: ['reviews'] as const,\r\n        byListing: (listingId: string) =>\r\n            [...queryKeys.reviews.all, 'listing', listingId] as const,\r\n    },\r\n\r\n    // Seller\r\n    seller: {\r\n        all: ['seller'] as const,\r\n        stats: (sellerId: string) =>\r\n            [...queryKeys.seller.all, 'stats', sellerId] as const,\r\n    },\r\n} as const;\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;AAED;;AAKO,MAAM,cAAc,IAAI,yQAAW,CAAC;IACvC,gBAAgB;QACZ,SAAS;YACL,WAAW,IAAI,KAAK;YACpB,QAAQ,KAAK,KAAK;YAClB,OAAO;YACP,YAAY,CAAC,eAAiB,KAAK,GAAG,CAAC,OAAO,KAAK,cAAc;YACjE,sBAAsB;YACtB,oBAAoB;QACxB;QACA,WAAW;YACP,OAAO;QACX;IACJ;AACJ;AAMO,MAAM,YAAY;IACrB,OAAO;IACP,MAAM;QACF,KAAK;YAAC;SAAO;QACb,IAAI,IAAM;mBAAI,UAAU,IAAI,CAAC,GAAG;gBAAE;aAAK;IAC3C;IAEA,WAAW;IACX,UAAU;QACN,KAAK;YAAC;SAAW;QACjB,OAAO,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAO;QAChD,MAAM,CAAC,UACH;mBAAI,UAAU,QAAQ,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QAChD,SAAS,IAAM;mBAAI,UAAU,QAAQ,CAAC,GAAG;gBAAE;aAAS;QACpD,QAAQ,CAAC,KAAe;mBAAI,UAAU,QAAQ,CAAC,OAAO;gBAAI;aAAG;IACjE;IAEA,SAAS;IACT,QAAQ;QACJ,KAAK;YAAC;SAAS;QACf,OAAO,IAAM;mBAAI,UAAU,MAAM,CAAC,GAAG;gBAAE;aAAO;QAC9C,MAAM,CAAC,UACH;mBAAI,UAAU,MAAM,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QAC9C,SAAS,IAAM;mBAAI,UAAU,MAAM,CAAC,GAAG;gBAAE;aAAS;QAClD,QAAQ,CAAC,KAAe;mBAAI,UAAU,MAAM,CAAC,OAAO;gBAAI;aAAG;IAC/D;IAEA,UAAU;IACV,SAAS;QACL,KAAK;YAAC;SAAU;QAChB,OAAO,IAAM;mBAAI,UAAU,OAAO,CAAC,GAAG;gBAAE;aAAO;QAC/C,MAAM,CAAC,UACH;mBAAI,UAAU,OAAO,CAAC,KAAK;gBAAI;oBAAE;gBAAQ;aAAE;QAC/C,SAAS,IAAM;mBAAI,UAAU,OAAO,CAAC,GAAG;gBAAE;aAAS;QACnD,QAAQ,CAAC,KAAe;mBAAI,UAAU,OAAO,CAAC,OAAO;gBAAI;aAAG;IAChE;IAEA,UAAU;IACV,SAAS;QACL,KAAK;YAAC;SAAU;QAChB,WAAW,CAAC,YACR;mBAAI,UAAU,OAAO,CAAC,GAAG;gBAAE;gBAAW;aAAU;IACxD;IAEA,SAAS;IACT,QAAQ;QACJ,KAAK;YAAC;SAAS;QACf,OAAO,CAAC,WACJ;mBAAI,UAAU,MAAM,CAAC,GAAG;gBAAE;gBAAS;aAAS;IACpD;AACJ"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/app/providers.tsx"],"sourcesContent":["/**\r\n * Global Providers\r\n * \r\n * Wraps the app with necessary providers (Query Client, etc.)\r\n */\r\n\r\n'use client';\r\n\r\nimport { QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { queryClient } from '@/lib/query-client';\r\nimport { Toaster } from \"sonner\";\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n    return (\r\n        <QueryClientProvider client={queryClient}>\r\n            {children}\r\n            <ReactQueryDevtools initialIsOpen={false} />\r\n            <Toaster position=\"top-center\" richColors />\r\n        </QueryClientProvider>\r\n    );\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;AAID;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACjE,qBACI,4TAAC,iTAAmB;QAAC,QAAQ,uJAAW;;YACnC;0BACD,4TAAC,mYAAkB;gBAAC,eAAe;;;;;;0BACnC,4TAAC,sRAAO;gBAAC,UAAS;gBAAa,UAAU;;;;;;;;;;;;AAGrD;KARgB"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}\r\n\r\nexport function formatPrice(price: number) {\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: \"USD\",\r\n    }).format(price)\r\n}\r\n\r\nexport function formatDate(date: string | Date) {\r\n    return new Intl.DateTimeFormat(\"en-US\", {\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n        year: \"numeric\",\r\n    }).format(new Date(date))\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACxB;AAEO,SAAS,YAAY,KAAa;IACrC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QAClC,OAAO;QACP,UAAU;IACd,GAAG,MAAM,CAAC;AACd;AAEO,SAAS,WAAW,IAAmB;IAC1C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACpC,OAAO;QACP,KAAK;QACL,MAAM;IACV,GAAG,MAAM,CAAC,IAAI,KAAK;AACvB"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Image>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Image\r\n        ref={ref}\r\n        className={cn(\"aspect-square h-full w-full\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n    React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n    React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n    <AvatarPrimitive.Fallback\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,uBAAS,0SAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC,uYAAoB;QACjB,KAAK;QACL,WAAW,IAAA,oIAAE,EACT,iEACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,OAAO,WAAW,GAAG,uYAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,0SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC,wYAAqB;QAClB,KAAK;QACL,WAAW,IAAA,oIAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGjB,YAAY,WAAW,GAAG,wYAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,0SAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC,2YAAwB;QACrB,KAAK;QACL,WAAW,IAAA,oIAAE,EACT,wEACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,eAAe,WAAW,GAAG,2YAAwB,CAAC,WAAW"}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { Loader2 } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n                outline:\r\n                    \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 rounded-md px-3\",\r\n                lg: \"h-11 rounded-md px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n    loading?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, loading, children, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                disabled={loading || props.disabled}\r\n                {...props}\r\n            >\r\n                {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                {children}\r\n            </Comp>\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACtB,0RACA;IACI,UAAU;QACN,SAAS;YACL,SAAS;YACT,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AAUJ,MAAM,uBAAS,0SAAgB,MAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzE,MAAM,OAAO,UAAU,+SAAI,GAAG;IAC9B,qBACI,4TAAC;QACG,WAAW,IAAA,oIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACL,UAAU,WAAW,MAAM,QAAQ;QAClC,GAAG,KAAK;;YAER,yBAAW,4TAAC,mTAAO;gBAAC,WAAU;;;;;;YAC9B;;;;;;;AAGb;;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/ui/dropdown-menu.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n        inset?: boolean\r\n    }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n        ref={ref}\r\n        className={cn(\r\n            \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        {children}\r\n        <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n    DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.SubContent\r\n        ref={ref}\r\n        className={cn(\r\n            \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n    DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Portal>\r\n        <DropdownMenuPrimitive.Content\r\n            ref={ref}\r\n            sideOffset={sideOffset}\r\n            className={cn(\r\n                \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n                className\r\n            )}\r\n            {...props}\r\n        />\r\n    </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n        inset?: boolean\r\n    }\r\n>(({ className, inset, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Item\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        checked={checked}\r\n        {...props}\r\n    >\r\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n            <DropdownMenuPrimitive.ItemIndicator>\r\n                <Check className=\"h-4 w-4\" />\r\n            </DropdownMenuPrimitive.ItemIndicator>\r\n        </span>\r\n        {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n    DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.RadioItem\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n            <DropdownMenuPrimitive.ItemIndicator>\r\n                <Circle className=\"h-2 w-2 fill-current\" />\r\n            </DropdownMenuPrimitive.ItemIndicator>\r\n        </span>\r\n        {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n        inset?: boolean\r\n    }\r\n>(({ className, inset, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Label\r\n        ref={ref}\r\n        className={cn(\r\n            \"px-2 py-1.5 text-sm font-semibold\",\r\n            inset && \"pl-8\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n    React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n    React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n    <DropdownMenuPrimitive.Separator\r\n        ref={ref}\r\n        className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\r\n        {...props}\r\n    />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n    className,\r\n    ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n    return (\r\n        <span\r\n            className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n            {...props}\r\n        />\r\n    )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n    DropdownMenu,\r\n    DropdownMenuTrigger,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuCheckboxItem,\r\n    DropdownMenuRadioItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuShortcut,\r\n    DropdownMenuGroup,\r\n    DropdownMenuPortal,\r\n    DropdownMenuSub,\r\n    DropdownMenuSubContent,\r\n    DropdownMenuSubTrigger,\r\n    DropdownMenuRadioGroup,\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/stores/authStore.ts"],"sourcesContent":["/**\r\n * Authentication Store\r\n * \r\n * Global auth state using Zustand with persistence.\r\n * Handles user authentication, token management, and auth state.\r\n */\r\n\r\nimport { create } from 'zustand';\r\nimport { persist, devtools } from 'zustand/middleware';\r\nimport { immer } from 'zustand/middleware/immer';\r\nimport type { User } from '@/types/models';\r\n\r\ninterface AuthState {\r\n    // State\r\n    user: User | null;\r\n    token: string | null;\r\n    isAuthenticated: boolean;\r\n    isLoading: boolean;\r\n\r\n    // Actions\r\n    setUser: (user: User | null) => void;\r\n    setToken: (token: string | null) => void;\r\n    login: (user: User, token: string) => void;\r\n    logout: () => void;\r\n    setLoading: (loading: boolean) => void;\r\n\r\n    // Selectors\r\n    isSeller: () => boolean;\r\n    isAdmin: () => boolean;\r\n    isBuyer: () => boolean;\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n    devtools(\r\n        persist(\r\n            immer((set, get) => ({\r\n                // Initial state\r\n                user: null,\r\n                token: null,\r\n                isAuthenticated: false,\r\n                isLoading: false,\r\n\r\n                // Actions\r\n                setUser: (user) => set((state) => {\r\n                    state.user = user;\r\n                    state.isAuthenticated = !!user;\r\n                }),\r\n\r\n                setToken: (token) => set((state) => {\r\n                    state.token = token;\r\n\r\n                    // Also store in localStorage for API client\r\n                    if (typeof window !== 'undefined') {\r\n                        if (token) {\r\n                            localStorage.setItem('auth_token', token);\r\n                        } else {\r\n                            localStorage.removeItem('auth_token');\r\n                        }\r\n                    }\r\n                }),\r\n\r\n                login: (user, token) => set((state) => {\r\n                    state.user = user;\r\n                    state.token = token;\r\n                    state.isAuthenticated = true;\r\n                    state.isLoading = false;\r\n\r\n                    // Store token\r\n                    if (typeof window !== 'undefined') {\r\n                        localStorage.setItem('auth_token', token);\r\n                    }\r\n                }),\r\n\r\n                logout: () => set((state) => {\r\n                    state.user = null;\r\n                    state.token = null;\r\n                    state.isAuthenticated = false;\r\n\r\n                    // Clear storage\r\n                    if (typeof window !== 'undefined') {\r\n                        localStorage.removeItem('auth_token');\r\n                        localStorage.removeItem('refresh_token');\r\n                    }\r\n                }),\r\n\r\n                setLoading: (loading) => set({ isLoading: loading }),\r\n\r\n                // Selectors\r\n                isSeller: () => get().user?.role === 'SELLER',\r\n                isAdmin: () => get().user?.role === 'ADMIN',\r\n                isBuyer: () => get().user?.role === 'BUYER',\r\n            })),\r\n            {\r\n                name: 'auth-storage',\r\n                // Only persist user and token\r\n                partialize: (state) => ({\r\n                    user: state.user,\r\n                    token: state.token,\r\n                    isAuthenticated: state.isAuthenticated,\r\n                }),\r\n            }\r\n        ),\r\n        { name: 'AuthStore' }\r\n    )\r\n);\r\n\r\n/**\r\n * Selector hooks for performance\r\n */\r\nexport const useUser = () => useAuthStore((state) => state.user);\r\nexport const useIsAuthenticated = () => useAuthStore((state) => state.isAuthenticated);\r\nexport const useIsSeller = () => useAuthStore((state) => state.isSeller());\r\nexport const useIsAdmin = () => useAuthStore((state) => state.isAdmin());\r\nexport const useIsBuyer = () => useAuthStore((state) => state.isBuyer());\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;;;AAED;AACA;AACA;;;;;AAuBO,MAAM,eAAe,IAAA,+VAAM,IAC9B,IAAA,sWAAQ,EACJ,IAAA,qWAAO,EACH,IAAA,4WAAK,EAAC,CAAC,KAAK,MAAQ,CAAC;QACjB,gBAAgB;QAChB,MAAM;QACN,OAAO;QACP,iBAAiB;QACjB,WAAW;QAEX,UAAU;QACV,SAAS,CAAC,OAAS,IAAI,CAAC;gBACpB,MAAM,IAAI,GAAG;gBACb,MAAM,eAAe,GAAG,CAAC,CAAC;YAC9B;QAEA,UAAU,CAAC,QAAU,IAAI,CAAC;gBACtB,MAAM,KAAK,GAAG;gBAEd,4CAA4C;gBAC5C,wCAAmC;oBAC/B,IAAI,OAAO;wBACP,aAAa,OAAO,CAAC,cAAc;oBACvC,OAAO;wBACH,aAAa,UAAU,CAAC;oBAC5B;gBACJ;YACJ;QAEA,OAAO,CAAC,MAAM,QAAU,IAAI,CAAC;gBACzB,MAAM,IAAI,GAAG;gBACb,MAAM,KAAK,GAAG;gBACd,MAAM,eAAe,GAAG;gBACxB,MAAM,SAAS,GAAG;gBAElB,cAAc;gBACd,wCAAmC;oBAC/B,aAAa,OAAO,CAAC,cAAc;gBACvC;YACJ;QAEA,QAAQ,IAAM,IAAI,CAAC;gBACf,MAAM,IAAI,GAAG;gBACb,MAAM,KAAK,GAAG;gBACd,MAAM,eAAe,GAAG;gBAExB,gBAAgB;gBAChB,wCAAmC;oBAC/B,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;gBAC5B;YACJ;QAEA,YAAY,CAAC,UAAY,IAAI;gBAAE,WAAW;YAAQ;QAElD,YAAY;QACZ,UAAU,IAAM,MAAM,IAAI,EAAE,SAAS;QACrC,SAAS,IAAM,MAAM,IAAI,EAAE,SAAS;QACpC,SAAS,IAAM,MAAM,IAAI,EAAE,SAAS;IACxC,CAAC,IACD;IACI,MAAM;IACN,8BAA8B;IAC9B,YAAY,CAAC,QAAU,CAAC;YACpB,MAAM,MAAM,IAAI;YAChB,OAAO,MAAM,KAAK;YAClB,iBAAiB,MAAM,eAAe;QAC1C,CAAC;AACL,IAEJ;IAAE,MAAM;AAAY;AAOrB,MAAM,UAAU;;IAAM,OAAA;gCAAa,CAAC,QAAU,MAAM,IAAI;;AAAA;GAAlD;;QAAgB;;;AACtB,MAAM,qBAAqB;;IAAM,OAAA;2CAAa,CAAC,QAAU,MAAM,eAAe;;AAAA;IAAxE;;QAA2B;;;AACjC,MAAM,cAAc;;IAAM,OAAA;oCAAa,CAAC,QAAU,MAAM,QAAQ;;AAAE;IAA5D;;QAAoB;;;AAC1B,MAAM,aAAa;;IAAM,OAAA;mCAAa,CAAC,QAAU,MAAM,OAAO;;AAAE;IAA1D;;QAAmB;;;AACzB,MAAM,aAAa;;IAAM,OAAA;mCAAa,CAAC,QAAU,MAAM,OAAO;;AAAE;IAA1D;;QAAmB"}},
    {"offset": {"line": 833, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/api/client.ts"],"sourcesContent":["/**\r\n * HTTP Client\r\n * \r\n * Base HTTP client with interceptors, error handling, and type safety.\r\n * Follows best practices for production API clients.\r\n */\r\n\r\nimport type { Result, ApiError } from '@/types/api';\r\n\r\n/**\r\n * Custom API Error class\r\n */\r\nexport class HTTPError extends Error {\r\n    constructor(\r\n        public status: number,\r\n        public statusText: string,\r\n        public data?: unknown\r\n    ) {\r\n        super(`HTTP Error ${status}: ${statusText}`);\r\n        this.name = 'HTTPError';\r\n    }\r\n}\r\n\r\n/**\r\n * HTTP Client Configuration\r\n */\r\ninterface HTTPClientConfig {\r\n    baseURL: string;\r\n    headers?: HeadersInit;\r\n    timeout?: number;\r\n}\r\n\r\n/**\r\n * Request Configuration\r\n */\r\ninterface RequestConfig extends RequestInit {\r\n    timeout?: number;\r\n    skipAuth?: boolean;\r\n}\r\n\r\n/**\r\n * HTTP Client Class\r\n * \r\n * Provides a type-safe, interceptor-based HTTP client\r\n * with automatic error handling and token management.\r\n */\r\nexport class HTTPClient {\r\n    private baseURL: string;\r\n    private defaultHeaders: HeadersInit;\r\n    private timeout: number;\r\n    private refreshingToken: Promise<string | null> | null = null;\r\n\r\n    constructor(config: HTTPClientConfig) {\r\n        this.baseURL = config.baseURL;\r\n        this.defaultHeaders = config.headers || {};\r\n        this.timeout = config.timeout || 30000; // 30 seconds default\r\n    }\r\n\r\n    /**\r\n     * Refresh the authentication token\r\n     */\r\n    private async refreshToken(): Promise<string | null> {\r\n        // Prevent multiple simultaneous refresh requests\r\n        if (this.refreshingToken) {\r\n            return this.refreshingToken;\r\n        }\r\n\r\n        this.refreshingToken = (async () => {\r\n            try {\r\n                const refreshToken = localStorage.getItem('refresh_token');\r\n                if (!refreshToken) return null;\r\n\r\n                const response = await fetch(`${this.baseURL}/auth/refresh`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ refreshToken }),\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    // Refresh failed, clear tokens\r\n                    localStorage.removeItem('auth_token');\r\n                    localStorage.removeItem('refresh_token');\r\n                    return null;\r\n                }\r\n\r\n                const data = await response.json();\r\n                const newToken = data.data?.token || data.token;\r\n\r\n                if (newToken) {\r\n                    localStorage.setItem('auth_token', newToken);\r\n                }\r\n\r\n                return newToken;\r\n            } catch (error) {\r\n                console.error('Token refresh failed:', error);\r\n                return null;\r\n            } finally {\r\n                this.refreshingToken = null;\r\n            }\r\n        })();\r\n\r\n        return this.refreshingToken;\r\n    }\r\n\r\n    /**\r\n     * Get auth token from storage\r\n     */\r\n    private getAuthToken(): string | null {\r\n        if (typeof window === 'undefined') return null;\r\n        return localStorage.getItem('auth_token');\r\n    }\r\n\r\n    /**\r\n     * Build headers with auth token\r\n     */\r\n    private buildHeaders(config?: RequestConfig): HeadersInit {\r\n        const headers: HeadersInit = {\r\n            'Content-Type': 'application/json',\r\n            ...this.defaultHeaders,\r\n            ...config?.headers,\r\n        };\r\n\r\n        // Add auth token if not skipped\r\n        if (!config?.skipAuth) {\r\n            const token = this.getAuthToken();\r\n            if (token) {\r\n                (headers as Record<string, string>)['Authorization'] = `Bearer ${token}`;\r\n            }\r\n        }\r\n\r\n        return headers;\r\n    }\r\n\r\n    /**\r\n     * Make HTTP request with timeout, retry, and error handling\r\n     */\r\n    private async request<T>(\r\n        endpoint: string,\r\n        config?: RequestConfig & { _retryCount?: number }\r\n    ): Promise<Result<T>> {\r\n        const retryCount = config?._retryCount || 0;\r\n        const maxRetries = 3;\r\n\r\n        try {\r\n            // Create abort controller for timeout\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(\r\n                () => controller.abort(),\r\n                config?.timeout || this.timeout\r\n            );\r\n\r\n            // Make request\r\n            const response = await fetch(`${this.baseURL}${endpoint}`, {\r\n                ...config,\r\n                headers: this.buildHeaders(config),\r\n                signal: controller.signal,\r\n            });\r\n\r\n            clearTimeout(timeoutId);\r\n\r\n            // Handle 401 Unauthorized - try token refresh\r\n            if (response.status === 401 && !config?.skipAuth && retryCount === 0) {\r\n                const newToken = await this.refreshToken();\r\n\r\n                if (newToken) {\r\n                    // Retry the request with new token\r\n                    return this.request<T>(endpoint, {\r\n                        ...config,\r\n                        _retryCount: retryCount + 1,\r\n                    });\r\n                } else {\r\n                    // Token refresh failed, redirect to login\r\n                    if (typeof window !== 'undefined') {\r\n                        window.location.href = '/login';\r\n                    }\r\n                    return {\r\n                        success: false,\r\n                        error: {\r\n                            message: 'Session expired. Please log in again.',\r\n                            code: 'UNAUTHORIZED',\r\n                            status: 401,\r\n                        },\r\n                    };\r\n                }\r\n            }\r\n\r\n            // Handle non-OK responses\r\n            if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({}));\r\n\r\n                // Retry on server errors (5xx) with exponential backoff\r\n                if (response.status >= 500 && retryCount < maxRetries) {\r\n                    const delay = Math.pow(2, retryCount) * 1000; // 1s, 2s, 4s\r\n                    await new Promise(resolve => setTimeout(resolve, delay));\r\n\r\n                    return this.request<T>(endpoint, {\r\n                        ...config,\r\n                        _retryCount: retryCount + 1,\r\n                    });\r\n                }\r\n\r\n                return {\r\n                    success: false,\r\n                    error: {\r\n                        message: errorData.error || errorData.message || response.statusText,\r\n                        code: errorData.code,\r\n                        status: response.status,\r\n                        details: errorData.details,\r\n                    },\r\n                };\r\n            }\r\n\r\n            // Parse JSON response\r\n            const data = await response.json();\r\n\r\n            // Handle API response format\r\n            if (data.success === false) {\r\n                return {\r\n                    success: false,\r\n                    error: {\r\n                        message: data.error || 'An error occurred',\r\n                        code: data.code,\r\n                        details: data.details,\r\n                    },\r\n                };\r\n            }\r\n\r\n            // Return successful result\r\n            return {\r\n                success: true,\r\n                data: data.data || data,\r\n            };\r\n        } catch (error) {\r\n            // Retry on network errors with exponential backoff\r\n            if (retryCount < maxRetries && error instanceof Error && error.name !== 'AbortError') {\r\n                const delay = Math.pow(2, retryCount) * 1000;\r\n                await new Promise(resolve => setTimeout(resolve, delay));\r\n\r\n                return this.request<T>(endpoint, {\r\n                    ...config,\r\n                    _retryCount: retryCount + 1,\r\n                });\r\n            }\r\n\r\n            // Handle network errors\r\n            if (error instanceof Error) {\r\n                if (error.name === 'AbortError') {\r\n                    return {\r\n                        success: false,\r\n                        error: {\r\n                            message: 'Request timeout',\r\n                            code: 'TIMEOUT',\r\n                        },\r\n                    };\r\n                }\r\n\r\n                return {\r\n                    success: false,\r\n                    error: {\r\n                        message: error.message,\r\n                        code: 'NETWORK_ERROR',\r\n                    },\r\n                };\r\n            }\r\n\r\n            return {\r\n                success: false,\r\n                error: {\r\n                    message: 'An unexpected error occurred',\r\n                    code: 'UNKNOWN_ERROR',\r\n                },\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * GET request\r\n     */\r\n    async get<T>(endpoint: string, config?: RequestConfig): Promise<Result<T>> {\r\n        return this.request<T>(endpoint, {\r\n            method: 'GET',\r\n            ...config,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * POST request\r\n     */\r\n    async post<T>(\r\n        endpoint: string,\r\n        body?: unknown,\r\n        config?: RequestConfig\r\n    ): Promise<Result<T>> {\r\n        return this.request<T>(endpoint, {\r\n            method: 'POST',\r\n            body: body ? JSON.stringify(body) : undefined,\r\n            ...config,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * PATCH request\r\n     */\r\n    async patch<T>(\r\n        endpoint: string,\r\n        body?: unknown,\r\n        config?: RequestConfig\r\n    ): Promise<Result<T>> {\r\n        return this.request<T>(endpoint, {\r\n            method: 'PATCH',\r\n            body: body ? JSON.stringify(body) : undefined,\r\n            ...config,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * PUT request\r\n     */\r\n    async put<T>(\r\n        endpoint: string,\r\n        body?: unknown,\r\n        config?: RequestConfig\r\n    ): Promise<Result<T>> {\r\n        return this.request<T>(endpoint, {\r\n            method: 'PUT',\r\n            body: body ? JSON.stringify(body) : undefined,\r\n            ...config,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * DELETE request\r\n     */\r\n    async delete<T>(endpoint: string, config?: RequestConfig): Promise<Result<T>> {\r\n        return this.request<T>(endpoint, {\r\n            method: 'DELETE',\r\n            ...config,\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Create HTTP client instance\r\n */\r\nconst baseURL = process.env.NEXT_PUBLIC_API_URL || '/api/v1';\r\n\r\nexport const httpClient = new HTTPClient({\r\n    baseURL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1109, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/api/endpoints/auth.ts"],"sourcesContent":["/**\r\n * Authentication API Endpoints\r\n * \r\n * All authentication-related API calls.\r\n */\r\n\r\nimport { httpClient } from '../client';\r\nimport type {\r\n    LoginInput,\r\n    RegisterInput,\r\n    AuthResponse,\r\n    RefreshTokenInput,\r\n    Result,\r\n} from '@/types/api';\r\nimport type { User } from '@/types/models';\r\n\r\nexport const authApi = {\r\n    /**\r\n     * Login user\r\n     */\r\n    login: async (credentials: LoginInput): Promise<Result<AuthResponse>> => {\r\n        return httpClient.post<AuthResponse>('/auth/login', credentials, {\r\n            skipAuth: true, // Don't send auth token for login\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Register new user\r\n     */\r\n    register: async (data: RegisterInput): Promise<Result<AuthResponse>> => {\r\n        return httpClient.post<AuthResponse>('/auth/register', data, {\r\n            skipAuth: true,\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Get current authenticated user\r\n     */\r\n    me: async (): Promise<Result<User>> => {\r\n        return httpClient.get<User>('/auth/me');\r\n    },\r\n\r\n    /**\r\n     * Refresh authentication token\r\n     */\r\n    refresh: async (data: RefreshTokenInput): Promise<Result<AuthResponse>> => {\r\n        return httpClient.post<AuthResponse>('/auth/refresh', data);\r\n    },\r\n\r\n    /**\r\n     * Logout (clear token from storage)\r\n     */\r\n    logout: () => {\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('auth_token');\r\n            localStorage.removeItem('refresh_token');\r\n        }\r\n    },\r\n};\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;;AAUO,MAAM,UAAU;IACnB;;KAEC,GACD,OAAO,OAAO;QACV,OAAO,oJAAU,CAAC,IAAI,CAAe,eAAe,aAAa;YAC7D,UAAU;QACd;IACJ;IAEA;;KAEC,GACD,UAAU,OAAO;QACb,OAAO,oJAAU,CAAC,IAAI,CAAe,kBAAkB,MAAM;YACzD,UAAU;QACd;IACJ;IAEA;;KAEC,GACD,IAAI;QACA,OAAO,oJAAU,CAAC,GAAG,CAAO;IAChC;IAEA;;KAEC,GACD,SAAS,OAAO;QACZ,OAAO,oJAAU,CAAC,IAAI,CAAe,iBAAiB;IAC1D;IAEA;;KAEC,GACD,QAAQ;QACJ,wCAAmC;YAC/B,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC5B;IACJ;AACJ"}},
    {"offset": {"line": 1160, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/api/endpoints/listings.ts"],"sourcesContent":["/**\r\n * Listings API Endpoints\r\n * \r\n * All listing-related API calls.\r\n */\r\n\r\nimport { httpClient } from '../client';\r\nimport queryString from 'query-string';\r\nimport type {\r\n    CreateListingInput,\r\n    UpdateListingInput,\r\n    ListingFilters,\r\n    ListingSearchResponse,\r\n    ListingDetailsResponse,\r\n    Result,\r\n} from '@/types/api';\r\nimport type { Listing } from '@/types/models';\r\n\r\nexport const listingsApi = {\r\n    /**\r\n     * Search/filter listings\r\n     */\r\n    search: async (filters?: ListingFilters): Promise<Result<ListingSearchResponse>> => {\r\n        const query = filters ? `?${queryString.stringify(filters)}` : '';\r\n        return httpClient.get<ListingSearchResponse>(`/listings${query}`);\r\n    },\r\n\r\n    /**\r\n     * Get single listing by ID\r\n     */\r\n    getById: async (id: string): Promise<Result<ListingDetailsResponse>> => {\r\n        return httpClient.get<ListingDetailsResponse>(`/listings/${id}`);\r\n    },\r\n\r\n    /**\r\n     * Create new listing (SELLER only)\r\n     */\r\n    create: async (data: CreateListingInput): Promise<Result<Listing>> => {\r\n        return httpClient.post<Listing>('/listings', data);\r\n    },\r\n\r\n    /**\r\n     * Update existing listing\r\n     */\r\n    update: async (id: string, data: UpdateListingInput): Promise<Result<Listing>> => {\r\n        return httpClient.patch<Listing>(`/listings/${id}`, data);\r\n    },\r\n\r\n    /**\r\n     * Delete listing\r\n     */\r\n    delete: async (id: string): Promise<Result<void>> => {\r\n        return httpClient.delete<void>(`/listings/${id}`);\r\n    },\r\n\r\n    /**\r\n     * Publish draft listing\r\n     */\r\n    publish: async (id: string): Promise<Result<Listing>> => {\r\n        return httpClient.patch<Listing>(`/listings/${id}`, { status: 'ACTIVE' });\r\n    },\r\n\r\n    /**\r\n     * Archive listing\r\n     */\r\n    archive: async (id: string): Promise<Result<Listing>> => {\r\n        return httpClient.patch<Listing>(`/listings/${id}`, { status: 'ARCHIVED' });\r\n    },\r\n};\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AACA;;;AAWO,MAAM,cAAc;IACvB;;KAEC,GACD,QAAQ,OAAO;QACX,MAAM,QAAQ,UAAU,CAAC,CAAC,EAAE,kNAAW,CAAC,SAAS,CAAC,UAAU,GAAG;QAC/D,OAAO,oJAAU,CAAC,GAAG,CAAwB,CAAC,SAAS,EAAE,OAAO;IACpE;IAEA;;KAEC,GACD,SAAS,OAAO;QACZ,OAAO,oJAAU,CAAC,GAAG,CAAyB,CAAC,UAAU,EAAE,IAAI;IACnE;IAEA;;KAEC,GACD,QAAQ,OAAO;QACX,OAAO,oJAAU,CAAC,IAAI,CAAU,aAAa;IACjD;IAEA;;KAEC,GACD,QAAQ,OAAO,IAAY;QACvB,OAAO,oJAAU,CAAC,KAAK,CAAU,CAAC,UAAU,EAAE,IAAI,EAAE;IACxD;IAEA;;KAEC,GACD,QAAQ,OAAO;QACX,OAAO,oJAAU,CAAC,MAAM,CAAO,CAAC,UAAU,EAAE,IAAI;IACpD;IAEA;;KAEC,GACD,SAAS,OAAO;QACZ,OAAO,oJAAU,CAAC,KAAK,CAAU,CAAC,UAAU,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;IAC3E;IAEA;;KAEC,GACD,SAAS,OAAO;QACZ,OAAO,oJAAU,CAAC,KAAK,CAAU,CAAC,UAAU,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAW;IAC7E;AACJ"}},
    {"offset": {"line": 1221, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/api/endpoints/orders.ts"],"sourcesContent":["/**\r\n * Orders API Endpoints\r\n * \r\n * All order-related API calls.\r\n */\r\n\r\nimport { httpClient } from '../client';\r\nimport queryString from 'query-string';\r\nimport type {\r\n    CreateOrderInput,\r\n    OrderFilters,\r\n    OrderHistoryResponse,\r\n    UpdateOrderStatusInput,\r\n    Result,\r\n} from '@/types/api';\r\nimport type { Order } from '@/types/models';\r\n\r\nexport const ordersApi = {\r\n    /**\r\n     * Create new order\r\n     */\r\n    create: async (data: CreateOrderInput): Promise<Result<Order>> => {\r\n        return httpClient.post<Order>('/orders', data);\r\n    },\r\n\r\n    /**\r\n     * Get order history (buyer or seller)\r\n     */\r\n    getHistory: async (filters?: OrderFilters): Promise<Result<OrderHistoryResponse>> => {\r\n        const query = filters ? `?${queryString.stringify(filters)}` : '';\r\n        return httpClient.get<OrderHistoryResponse>(`/orders${query}`);\r\n    },\r\n\r\n    /**\r\n     * Get single order by ID\r\n     */\r\n    getById: async (id: string): Promise<Result<Order>> => {\r\n        return httpClient.get<Order>(`/orders/${id}`);\r\n    },\r\n\r\n    /**\r\n     * Update order status (SELLER only)\r\n     */\r\n    updateStatus: async (\r\n        id: string,\r\n        data: UpdateOrderStatusInput\r\n    ): Promise<Result<Order>> => {\r\n        return httpClient.patch<Order>(`/orders/${id}/status`, data);\r\n    },\r\n\r\n    /**\r\n     * Cancel order\r\n     */\r\n    cancel: async (id: string): Promise<Result<Order>> => {\r\n        return httpClient.patch<Order>(`/orders/${id}`, {\r\n            status: 'CANCELLED',\r\n        });\r\n    },\r\n};\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AACA;;;AAUO,MAAM,YAAY;IACrB;;KAEC,GACD,QAAQ,OAAO;QACX,OAAO,oJAAU,CAAC,IAAI,CAAQ,WAAW;IAC7C;IAEA;;KAEC,GACD,YAAY,OAAO;QACf,MAAM,QAAQ,UAAU,CAAC,CAAC,EAAE,kNAAW,CAAC,SAAS,CAAC,UAAU,GAAG;QAC/D,OAAO,oJAAU,CAAC,GAAG,CAAuB,CAAC,OAAO,EAAE,OAAO;IACjE;IAEA;;KAEC,GACD,SAAS,OAAO;QACZ,OAAO,oJAAU,CAAC,GAAG,CAAQ,CAAC,QAAQ,EAAE,IAAI;IAChD;IAEA;;KAEC,GACD,cAAc,OACV,IACA;QAEA,OAAO,oJAAU,CAAC,KAAK,CAAQ,CAAC,QAAQ,EAAE,GAAG,OAAO,CAAC,EAAE;IAC3D;IAEA;;KAEC,GACD,QAAQ,OAAO;QACX,OAAO,oJAAU,CAAC,KAAK,CAAQ,CAAC,QAAQ,EAAE,IAAI,EAAE;YAC5C,QAAQ;QACZ;IACJ;AACJ"}},
    {"offset": {"line": 1270, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/api/index.ts"],"sourcesContent":["/**\r\n * API Client Index\r\n * \r\n * Centralized exports for all API endpoints.\r\n * Import from here for clean, organized API calls.\r\n * \r\n * @example\r\n * import { api } from '@/lib/api';\r\n * \r\n * const result = await api.auth.login(credentials);\r\n * const listings = await api.listings.search(filters);\r\n */\r\n\r\nimport { authApi } from './endpoints/auth';\r\nimport { listingsApi } from './endpoints/listings';\r\nimport { ordersApi } from './endpoints/orders';\r\n\r\nexport { httpClient } from './client';\r\nexport { authApi } from './endpoints/auth';\r\nexport { listingsApi } from './endpoints/listings';\r\nexport { ordersApi } from './endpoints/orders';\r\n\r\n/**\r\n * Unified API object for convenient access\r\n */\r\nexport const api = {\r\n    auth: authApi,\r\n    listings: listingsApi,\r\n    orders: ordersApi,\r\n} as const;\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;CAWC;;;;AAED;AACA;AACA;AAEA;;;;;;;;AAQO,MAAM,MAAM;IACf,MAAM,4JAAO;IACb,UAAU,oKAAW;IACrB,QAAQ,gKAAS;AACrB"}},
    {"offset": {"line": 1308, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/hooks/queries/useAuth.ts"],"sourcesContent":["/**\r\n * Auth Query Hooks\r\n * \r\n * TanStack Query hooks for authentication operations.\r\n */\r\n\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { api } from '@/lib/api';\r\nimport { queryKeys } from '@/lib/query-client';\r\nimport { useAuthStore } from '@/lib/stores/authStore';\r\nimport type { LoginInput, RegisterInput } from '@/types/api';\r\n\r\n/**\r\n * Get current user query\r\n */\r\nexport function useMe() {\r\n    const { isAuthenticated } = useAuthStore();\r\n\r\n    return useQuery({\r\n        queryKey: queryKeys.auth.me(),\r\n        queryFn: async () => {\r\n            const result = await api.auth.me();\r\n            if (!result.success) throw new Error(result.error.message);\r\n            return result.data;\r\n        },\r\n        enabled: isAuthenticated, // Only fetch if authenticated\r\n        staleTime: Infinity, // User data rarely changes\r\n    });\r\n}\r\n\r\n/**\r\n * Login mutation\r\n */\r\nexport function useLogin() {\r\n    const { login } = useAuthStore();\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async (credentials: LoginInput) => {\r\n            const result = await api.auth.login(credentials);\r\n            if (!result.success) throw new Error(result.error.message);\r\n            return result.data;\r\n        },\r\n        onSuccess: (data) => {\r\n            // Update auth store\r\n            login(data.user, data.token);\r\n\r\n            // Set user in cache\r\n            queryClient.setQueryData(queryKeys.auth.me(), data.user);\r\n        },\r\n    });\r\n}\r\n\r\n/**\r\n * Register mutation\r\n */\r\nexport function useRegister() {\r\n    const { login } = useAuthStore();\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async (data: RegisterInput) => {\r\n            const result = await api.auth.register(data);\r\n            if (!result.success) throw new Error(result.error.message);\r\n            return result.data;\r\n        },\r\n        onSuccess: (data) => {\r\n            // Update auth store\r\n            login(data.user, data.token);\r\n\r\n            // Set user in cache\r\n            queryClient.setQueryData(queryKeys.auth.me(), data.user);\r\n        },\r\n    });\r\n}\r\n\r\n/**\r\n * Logout mutation\r\n */\r\nexport function useLogout() {\r\n    const { logout } = useAuthStore();\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async () => {\r\n            api.auth.logout();\r\n        },\r\n        onSuccess: () => {\r\n            // Clear auth store\r\n            logout();\r\n\r\n            // Clear all queries\r\n            queryClient.clear();\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;AAED;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAMO,SAAS;;IACZ,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,4JAAY;IAExC,OAAO,IAAA,2RAAQ,EAAC;QACZ,UAAU,qJAAS,CAAC,IAAI,CAAC,EAAE;QAC3B,OAAO;8BAAE;gBACL,MAAM,SAAS,MAAM,4JAAG,CAAC,IAAI,CAAC,EAAE;gBAChC,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK,CAAC,OAAO;gBACzD,OAAO,OAAO,IAAI;YACtB;;QACA,SAAS;QACT,WAAW;IACf;AACJ;GAbgB;;QACgB,4JAAY;QAEjC,2RAAQ;;;AAeZ,SAAS;;IACZ,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4JAAY;IAC9B,MAAM,cAAc,IAAA,4SAAc;IAElC,OAAO,IAAA,iSAAW,EAAC;QACf,UAAU;oCAAE,OAAO;gBACf,MAAM,SAAS,MAAM,4JAAG,CAAC,IAAI,CAAC,KAAK,CAAC;gBACpC,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK,CAAC,OAAO;gBACzD,OAAO,OAAO,IAAI;YACtB;;QACA,SAAS;oCAAE,CAAC;gBACR,oBAAoB;gBACpB,MAAM,KAAK,IAAI,EAAE,KAAK,KAAK;gBAE3B,oBAAoB;gBACpB,YAAY,YAAY,CAAC,qJAAS,CAAC,IAAI,CAAC,EAAE,IAAI,KAAK,IAAI;YAC3D;;IACJ;AACJ;IAlBgB;;QACM,4JAAY;QACV,4SAAc;QAE3B,iSAAW;;;AAmBf,SAAS;;IACZ,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4JAAY;IAC9B,MAAM,cAAc,IAAA,4SAAc;IAElC,OAAO,IAAA,iSAAW,EAAC;QACf,UAAU;uCAAE,OAAO;gBACf,MAAM,SAAS,MAAM,4JAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACvC,IAAI,CAAC,OAAO,OAAO,EAAE,MAAM,IAAI,MAAM,OAAO,KAAK,CAAC,OAAO;gBACzD,OAAO,OAAO,IAAI;YACtB;;QACA,SAAS;uCAAE,CAAC;gBACR,oBAAoB;gBACpB,MAAM,KAAK,IAAI,EAAE,KAAK,KAAK;gBAE3B,oBAAoB;gBACpB,YAAY,YAAY,CAAC,qJAAS,CAAC,IAAI,CAAC,EAAE,IAAI,KAAK,IAAI;YAC3D;;IACJ;AACJ;IAlBgB;;QACM,4JAAY;QACV,4SAAc;QAE3B,iSAAW;;;AAmBf,SAAS;;IACZ,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAY;IAC/B,MAAM,cAAc,IAAA,4SAAc;IAElC,OAAO,IAAA,iSAAW,EAAC;QACf,UAAU;qCAAE;gBACR,4JAAG,CAAC,IAAI,CAAC,MAAM;YACnB;;QACA,SAAS;qCAAE;gBACP,mBAAmB;gBACnB;gBAEA,oBAAoB;gBACpB,YAAY,KAAK;YACrB;;IACJ;AACJ;IAhBgB;;QACO,4JAAY;QACX,4SAAc;QAE3B,iSAAW"}},
    {"offset": {"line": 1447, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/features/auth/UserNav.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport {\r\n    Avatar,\r\n    AvatarFallback,\r\n    AvatarImage,\r\n} from \"@/components/ui/avatar\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuGroup,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\nimport { useAuthStore } from \"@/lib/stores/authStore\"\r\nimport { useLogout } from \"@/lib/hooks/queries/useAuth\"\r\nimport Link from \"next/link\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\nexport function UserNav() {\r\n    const { user } = useAuthStore()\r\n    const { mutate: logout } = useLogout()\r\n    const router = useRouter()\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"flex items-center gap-4\">\r\n                <Link href=\"/login\">\r\n                    <Button variant=\"ghost\" size=\"sm\">\r\n                        Log in\r\n                    </Button>\r\n                </Link>\r\n                <Link href=\"/register\">\r\n                    <Button size=\"sm\" className=\"bg-green-600 hover:bg-green-700\">\r\n                        Sign up\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const initials = user.profile?.firstName && user.profile?.lastName\r\n        ? `${user.profile.firstName[0]}${user.profile.lastName[0]}`\r\n        : user.email.substring(0, 2).toUpperCase()\r\n\r\n    return (\r\n        <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\r\n                    <Avatar className=\"h-8 w-8\">\r\n                        <AvatarImage src={user.profile?.avatar} alt={user.email} />\r\n                        <AvatarFallback>{initials}</AvatarFallback>\r\n                    </Avatar>\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\r\n                <DropdownMenuLabel className=\"font-normal\">\r\n                    <div className=\"flex flex-col space-y-1\">\r\n                        <p className=\"text-sm font-medium leading-none\">\r\n                            {user.profile?.firstName} {user.profile?.lastName}\r\n                        </p>\r\n                        <p className=\"text-xs leading-none text-muted-foreground\">\r\n                            {user.email}\r\n                        </p>\r\n                    </div>\r\n                </DropdownMenuLabel>\r\n                <DropdownMenuSeparator />\r\n                <DropdownMenuGroup>\r\n                    <DropdownMenuItem onClick={() => router.push(\"/profile\")}>\r\n                        Profile\r\n                    </DropdownMenuItem>\r\n                    <DropdownMenuItem onClick={() => router.push(\"/orders\")}>\r\n                        Orders\r\n                    </DropdownMenuItem>\r\n                    {user.role === \"SELLER\" && (\r\n                        <DropdownMenuItem onClick={() => router.push(\"/seller/dashboard\")}>\r\n                            Seller Dashboard\r\n                        </DropdownMenuItem>\r\n                    )}\r\n                </DropdownMenuGroup>\r\n                <DropdownMenuSeparator />\r\n                <DropdownMenuItem onClick={() => logout()}>\r\n                    Log out\r\n                </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAKA;AACA;AASA;AACA;AACA;AACA;;;AApBA;;;;;;;;AAsBO,SAAS;;IACZ,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4JAAY;IAC7B,MAAM,EAAE,QAAQ,MAAM,EAAE,GAAG,IAAA,iKAAS;IACpC,MAAM,SAAS,IAAA,iRAAS;IAExB,IAAI,CAAC,MAAM;QACP,qBACI,4TAAC;YAAI,WAAU;;8BACX,4TAAC,ySAAI;oBAAC,MAAK;8BACP,cAAA,4TAAC,uJAAM;wBAAC,SAAQ;wBAAQ,MAAK;kCAAK;;;;;;;;;;;8BAItC,4TAAC,ySAAI;oBAAC,MAAK;8BACP,cAAA,4TAAC,uJAAM;wBAAC,MAAK;wBAAK,WAAU;kCAAkC;;;;;;;;;;;;;;;;;IAM9E;IAEA,MAAM,WAAW,KAAK,OAAO,EAAE,aAAa,KAAK,OAAO,EAAE,WACpD,GAAG,KAAK,OAAO,CAAC,SAAS,CAAC,EAAE,GAAG,KAAK,OAAO,CAAC,QAAQ,CAAC,EAAE,EAAE,GACzD,KAAK,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG,WAAW;IAE5C,qBACI,4TAAC,uKAAY;;0BACT,4TAAC,8KAAmB;gBAAC,OAAO;0BACxB,cAAA,4TAAC,uJAAM;oBAAC,SAAQ;oBAAQ,WAAU;8BAC9B,cAAA,4TAAC,uJAAM;wBAAC,WAAU;;0CACd,4TAAC,4JAAW;gCAAC,KAAK,KAAK,OAAO,EAAE;gCAAQ,KAAK,KAAK,KAAK;;;;;;0CACvD,4TAAC,+JAAc;0CAAE;;;;;;;;;;;;;;;;;;;;;;0BAI7B,4TAAC,8KAAmB;gBAAC,WAAU;gBAAO,OAAM;gBAAM,UAAU;;kCACxD,4TAAC,4KAAiB;wBAAC,WAAU;kCACzB,cAAA,4TAAC;4BAAI,WAAU;;8CACX,4TAAC;oCAAE,WAAU;;wCACR,KAAK,OAAO,EAAE;wCAAU;wCAAE,KAAK,OAAO,EAAE;;;;;;;8CAE7C,4TAAC;oCAAE,WAAU;8CACR,KAAK,KAAK;;;;;;;;;;;;;;;;;kCAIvB,4TAAC,gLAAqB;;;;;kCACtB,4TAAC,4KAAiB;;0CACd,4TAAC,2KAAgB;gCAAC,SAAS,IAAM,OAAO,IAAI,CAAC;0CAAa;;;;;;0CAG1D,4TAAC,2KAAgB;gCAAC,SAAS,IAAM,OAAO,IAAI,CAAC;0CAAY;;;;;;4BAGxD,KAAK,IAAI,KAAK,0BACX,4TAAC,2KAAgB;gCAAC,SAAS,IAAM,OAAO,IAAI,CAAC;0CAAsB;;;;;;;;;;;;kCAK3E,4TAAC,gLAAqB;;;;;kCACtB,4TAAC,2KAAgB;wBAAC,SAAS,IAAM;kCAAU;;;;;;;;;;;;;;;;;;AAM3D;GApEgB;;QACK,4JAAY;QACF,iKAAS;QACrB,iRAAS;;;KAHZ"}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/lib/stores/cartStore.ts"],"sourcesContent":["/**\r\n * Shopping Cart Store\r\n * \r\n * Global cart state using Zustand with persistence.\r\n * Handles cart items, quantities, and cart calculations.\r\n */\r\n\r\nimport { create } from 'zustand';\r\nimport { persist, devtools } from 'zustand/middleware';\r\nimport { immer } from 'zustand/middleware/immer';\r\nimport type { CartItem } from '@/types/models';\r\n\r\ninterface CartState {\r\n    // State\r\n    items: CartItem[];\r\n\r\n    // Actions\r\n    addItem: (item: CartItem) => void;\r\n    removeItem: (itemId: string) => void;\r\n    updateQuantity: (itemId: string, quantity: number) => void;\r\n    clearCart: () => void;\r\n\r\n    // Selectors\r\n    getItemCount: () => number;\r\n    getTotalPrice: () => number;\r\n    getItemById: (itemId: string) => CartItem | undefined;\r\n    hasItems: () => boolean;\r\n\r\n    // Grouped by seller (for checkout)\r\n    getItemsBySeller: () => Map<string, CartItem[]>;\r\n}\r\n\r\nexport const useCartStore = create<CartState>()(\r\n    devtools(\r\n        persist(\r\n            immer((set, get) => ({\r\n                // Initial state\r\n                items: [],\r\n\r\n                // Actions\r\n                addItem: (item) => set((state) => {\r\n                    const existingIndex = state.items.findIndex(\r\n                        (i) => i.id === item.id\r\n                    );\r\n\r\n                    if (existingIndex >= 0) {\r\n                        // Item exists, increment quantity\r\n                        state.items[existingIndex]!.quantity += item.quantity;\r\n                    } else {\r\n                        // New item\r\n                        state.items.push(item);\r\n                    }\r\n                }),\r\n\r\n                removeItem: (itemId) => set((state) => {\r\n                    state.items = state.items.filter((item) => item.id !== itemId);\r\n                }),\r\n\r\n                updateQuantity: (itemId, quantity) => set((state) => {\r\n                    const item = state.items.find((i) => i.id === itemId);\r\n                    if (item) {\r\n                        if (quantity <= 0) {\r\n                            // Remove if quantity is 0 or negative\r\n                            state.items = state.items.filter((i) => i.id !== itemId);\r\n                        } else {\r\n                            item.quantity = quantity;\r\n                        }\r\n                    }\r\n                }),\r\n\r\n                clearCart: () => set({ items: [] }),\r\n\r\n                // Selectors\r\n                getItemCount: () => {\r\n                    return get().items.reduce((total, item) => total + item.quantity, 0);\r\n                },\r\n\r\n                getTotalPrice: () => {\r\n                    return get().items.reduce(\r\n                        (total, item) => total + item.price * item.quantity,\r\n                        0\r\n                    );\r\n                },\r\n\r\n                getItemById: (itemId) => {\r\n                    return get().items.find((item) => item.id === itemId);\r\n                },\r\n\r\n                hasItems: () => {\r\n                    return get().items.length > 0;\r\n                },\r\n\r\n                getItemsBySeller: () => {\r\n                    const items = get().items;\r\n                    const grouped = new Map<string, CartItem[]>();\r\n\r\n                    items.forEach((item) => {\r\n                        const sellerItems = grouped.get(item.sellerId) || [];\r\n                        sellerItems.push(item);\r\n                        grouped.set(item.sellerId, sellerItems);\r\n                    });\r\n\r\n                    return grouped;\r\n                },\r\n            })),\r\n            {\r\n                name: 'cart-storage',\r\n                // Only persist items\r\n                partialize: (state) => ({ items: state.items }),\r\n            }\r\n        ),\r\n        { name: 'CartStore' }\r\n    )\r\n);\r\n\r\n/**\r\n * Selector hooks for performance\r\n */\r\nexport const useCartItems = () => useCartStore((state) => state.items);\r\nexport const useCartItemCount = () => useCartStore((state) => state.getItemCount());\r\nexport const useCartTotalPrice = () => useCartStore((state) => state.getTotalPrice());\r\nexport const useHasCartItems = () => useCartStore((state) => state.hasItems());\r\nexport const useAddToCart = () => useCartStore((state) => state.addItem);\r\nexport const useRemoveFromCart = () => useCartStore((state) => state.removeItem);\r\nexport const useUpdateCartQuantity = () => useCartStore((state) => state.updateQuantity);\r\nexport const useClearCart = () => useCartStore((state) => state.clearCart);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1870, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/layout/Navbar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { UserNav } from \"@/components/features/auth/UserNav\"\r\nimport { Leaf, ShoppingCart } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { useCartItemCount } from \"@/lib/stores/cartStore\"\r\n\r\nexport function Navbar() {\r\n    const pathname = usePathname()\r\n    const cartItemCount = useCartItemCount()\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\r\n            <div className=\"container flex h-16 items-center\">\r\n                <Link href=\"/\" className=\"mr-6 flex items-center space-x-2\">\r\n                    <Leaf className=\"h-6 w-6 text-green-600\" />\r\n                    <span className=\"hidden font-bold sm:inline-block\">\r\n                        TreeVerse\r\n                    </span>\r\n                </Link>\r\n                <nav className=\"flex items-center space-x-6 text-sm font-medium\">\r\n                    <Link\r\n                        href=\"/trees\"\r\n                        className={cn(\r\n                            \"transition-colors hover:text-foreground/80\",\r\n                            pathname === \"/trees\" ? \"text-foreground\" : \"text-foreground/60\"\r\n                        )}\r\n                    >\r\n                        Trees\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/sellers\"\r\n                        className={cn(\r\n                            \"transition-colors hover:text-foreground/80\",\r\n                            pathname === \"/sellers\" ? \"text-foreground\" : \"text-foreground/60\"\r\n                        )}\r\n                    >\r\n                        Sellers\r\n                    </Link>\r\n                    <Link\r\n                        href=\"/about\"\r\n                        className={cn(\r\n                            \"transition-colors hover:text-foreground/80\",\r\n                            pathname === \"/about\" ? \"text-foreground\" : \"text-foreground/60\"\r\n                        )}\r\n                    >\r\n                        About\r\n                    </Link>\r\n                </nav>\r\n                <div className=\"flex flex-1 items-center justify-end space-x-4\">\r\n                    <nav className=\"flex items-center space-x-2\">\r\n                        <Link href=\"/cart\">\r\n                            <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n                                <ShoppingCart className=\"h-5 w-5\" />\r\n                                {cartItemCount > 0 && (\r\n                                    <span className=\"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-green-600 text-[10px] font-bold text-white flex items-center justify-center\">\r\n                                        {cartItemCount}\r\n                                    </span>\r\n                                )}\r\n                                <span className=\"sr-only\">Shopping Cart</span>\r\n                            </Button>\r\n                        </Link>\r\n                        <UserNav />\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACZ,MAAM,WAAW,IAAA,mRAAW;IAC5B,MAAM,gBAAgB,IAAA,gKAAgB;IAEtC,qBACI,4TAAC;QAAO,WAAU;kBACd,cAAA,4TAAC;YAAI,WAAU;;8BACX,4TAAC,ySAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACrB,4TAAC,iSAAI;4BAAC,WAAU;;;;;;sCAChB,4TAAC;4BAAK,WAAU;sCAAmC;;;;;;;;;;;;8BAIvD,4TAAC;oBAAI,WAAU;;sCACX,4TAAC,ySAAI;4BACD,MAAK;4BACL,WAAW,IAAA,oIAAE,EACT,8CACA,aAAa,WAAW,oBAAoB;sCAEnD;;;;;;sCAGD,4TAAC,ySAAI;4BACD,MAAK;4BACL,WAAW,IAAA,oIAAE,EACT,8CACA,aAAa,aAAa,oBAAoB;sCAErD;;;;;;sCAGD,4TAAC,ySAAI;4BACD,MAAK;4BACL,WAAW,IAAA,oIAAE,EACT,8CACA,aAAa,WAAW,oBAAoB;sCAEnD;;;;;;;;;;;;8BAIL,4TAAC;oBAAI,WAAU;8BACX,cAAA,4TAAC;wBAAI,WAAU;;0CACX,4TAAC,ySAAI;gCAAC,MAAK;0CACP,cAAA,4TAAC,uJAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,WAAU;;sDAC1C,4TAAC,6TAAY;4CAAC,WAAU;;;;;;wCACvB,gBAAgB,mBACb,4TAAC;4CAAK,WAAU;sDACX;;;;;;sDAGT,4TAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;;;;;;;0CAGlC,4TAAC,uKAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;GA7DgB;;QACK,mRAAW;QACN,gKAAgB;;;KAF1B"}},
    {"offset": {"line": 2053, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\r\n            \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-2xl font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn(\"text-sm text-muted-foreground\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex items-center p-6 pt-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,0SAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC;QACG,KAAK;QACL,WAAW,IAAA,oIAAE,EACT,4DACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,0SAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC;QACG,KAAK;QACL,WAAW,IAAA,oIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,0SAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC;QACG,KAAK;QACL,WAAW,IAAA,oIAAE,EACT,sDACA;QAEH,GAAG,KAAK;;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,0SAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC;QACG,KAAK;QACL,WAAW,IAAA,oIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,0SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC;QAAI,KAAK;QAAK,WAAW,IAAA,oIAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,0SAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,4TAAC;QACG,KAAK;QACL,WAAW,IAAA,oIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGjB,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 2160, "column": 0}, "map": {"version":3,"sources":["file:///J:/projects/tree/apps/web/components/ErrorBoundary.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Component, ReactNode } from \"react\"\r\nimport { AlertTriangle, RefreshCw } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardDescription,\r\n    CardFooter,\r\n    CardHeader,\r\n    CardTitle,\r\n} from \"@/components/ui/card\"\r\n\r\ninterface Props {\r\n    children: ReactNode\r\n    fallback?: ReactNode\r\n}\r\n\r\ninterface State {\r\n    hasError: boolean\r\n    error: Error | null\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props)\r\n        this.state = { hasError: false, error: null }\r\n    }\r\n\r\n    static getDerivedStateFromError(error: Error): State {\r\n        return { hasError: true, error }\r\n    }\r\n\r\n    componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n        // Log error to error tracking service (Sentry, LogRocket, etc.)\r\n        console.error(\"ErrorBoundary caught an error:\", error, errorInfo)\r\n\r\n        // You can send to error tracking service here\r\n        // Example: Sentry.captureException(error)\r\n    }\r\n\r\n    handleReset = () => {\r\n        this.setState({ hasError: false, error: null })\r\n    }\r\n\r\n    handleReload = () => {\r\n        window.location.reload()\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            if (this.props.fallback) {\r\n                return this.props.fallback\r\n            }\r\n\r\n            return (\r\n                <div className=\"flex items-center justify-center min-h-[400px] p-4\">\r\n                    <Card className=\"max-w-md w-full\">\r\n                        <CardHeader>\r\n                            <div className=\"flex items-center gap-2 text-destructive\">\r\n                                <AlertTriangle className=\"h-5 w-5\" />\r\n                                <CardTitle>Something went wrong</CardTitle>\r\n                            </div>\r\n                            <CardDescription>\r\n                                An unexpected error occurred. This has been logged and we'll look into it.\r\n                            </CardDescription>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n                                <div className=\"mt-4 p-4 bg-muted rounded-md\">\r\n                                    <p className=\"text-sm font-mono text-destructive break-all\">\r\n                                        {this.state.error.message}\r\n                                    </p>\r\n                                    {this.state.error.stack && (\r\n                                        <pre className=\"mt-2 text-xs overflow-auto max-h-40\">\r\n                                            {this.state.error.stack}\r\n                                        </pre>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </CardContent>\r\n                        <CardFooter className=\"flex gap-2\">\r\n                            <Button onClick={this.handleReset} variant=\"outline\">\r\n                                Try Again\r\n                            </Button>\r\n                            <Button onClick={this.handleReload} className=\"gap-2\">\r\n                                <RefreshCw className=\"h-4 w-4\" />\r\n                                Reload Page\r\n                            </Button>\r\n                        </CardFooter>\r\n                    </Card>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return this.props.children\r\n    }\r\n}\r\n\r\n// Simpler error state component for inline errors\r\nexport function ErrorState({\r\n    title = \"Error\",\r\n    message = \"Something went wrong\",\r\n    onRetry,\r\n}: {\r\n    title?: string\r\n    message?: string\r\n    onRetry?: () => void\r\n}) {\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-[200px] p-8 text-center\">\r\n            <AlertTriangle className=\"h-12 w-12 text-destructive mb-4\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">{title}</h3>\r\n            <p className=\"text-muted-foreground mb-4 max-w-md\">{message}</p>\r\n            {onRetry && (\r\n                <Button onClick={onRetry} variant=\"outline\" className=\"gap-2\">\r\n                    <RefreshCw className=\"h-4 w-4\" />\r\n                    Try Again\r\n                </Button>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;;AAqE6B;;AAnE7B;AACA;AAAA;AACA;AACA;AALA;;;;;;AAwBO,MAAM,sBAAsB,ySAAS;IACxC,YAAY,KAAY,CAAE;QACtB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAChD;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACjD,OAAO;YAAE,UAAU;YAAM;QAAM;IACnC;IAEA,kBAAkB,KAAY,EAAE,SAA0B,EAAE;QACxD,gEAAgE;QAChE,QAAQ,KAAK,CAAC,kCAAkC,OAAO;IAEvD,8CAA8C;IAC9C,0CAA0C;IAC9C;IAEA,cAAc;QACV,IAAI,CAAC,QAAQ,CAAC;YAAE,UAAU;YAAO,OAAO;QAAK;IACjD,EAAC;IAED,eAAe;QACX,OAAO,QAAQ,CAAC,MAAM;IAC1B,EAAC;IAED,SAAS;QACL,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACrB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACrB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC9B;YAEA,qBACI,4TAAC;gBAAI,WAAU;0BACX,cAAA,4TAAC,mJAAI;oBAAC,WAAU;;sCACZ,4TAAC,yJAAU;;8CACP,4TAAC;oCAAI,WAAU;;sDACX,4TAAC,gUAAa;4CAAC,WAAU;;;;;;sDACzB,4TAAC,wJAAS;sDAAC;;;;;;;;;;;;8CAEf,4TAAC,8JAAe;8CAAC;;;;;;;;;;;;sCAIrB,4TAAC,0JAAW;sCACP,oDAAyB,iBAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,kBACvD,4TAAC;gCAAI,WAAU;;kDACX,4TAAC;wCAAE,WAAU;kDACR,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;;;;;;oCAE5B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,kBACnB,4TAAC;wCAAI,WAAU;kDACV,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK;;;;;;;;;;;;;;;;;sCAM3C,4TAAC,yJAAU;4BAAC,WAAU;;8CAClB,4TAAC,uJAAM;oCAAC,SAAS,IAAI,CAAC,WAAW;oCAAE,SAAQ;8CAAU;;;;;;8CAGrD,4TAAC,uJAAM;oCAAC,SAAS,IAAI,CAAC,YAAY;oCAAE,WAAU;;sDAC1C,4TAAC,oTAAS;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;QAOzD;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC9B;AACJ;AAGO,SAAS,WAAW,EACvB,QAAQ,OAAO,EACf,UAAU,sBAAsB,EAChC,OAAO,EAKV;IACG,qBACI,4TAAC;QAAI,WAAU;;0BACX,4TAAC,gUAAa;gBAAC,WAAU;;;;;;0BACzB,4TAAC;gBAAG,WAAU;0BAA8B;;;;;;0BAC5C,4TAAC;gBAAE,WAAU;0BAAuC;;;;;;YACnD,yBACG,4TAAC,uJAAM;gBAAC,SAAS;gBAAS,SAAQ;gBAAU,WAAU;;kCAClD,4TAAC,oTAAS;wBAAC,WAAU;;;;;;oBAAY;;;;;;;;;;;;;AAMrD;KAtBgB"}}]
}